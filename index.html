<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify Web API Controller</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script defer src="app.js"></script>
</head>

<body onload="onPageLoad()">
    <div class="container my-5">
        <div id="messageArea" class="alert alert-info" style="display:none;"></div>
        
        <div id="tokenSection" class="mb-5">
            <h2 class="text-white">Spotify API Authorization</h2>
            <p>Enter your <strong>Client ID</strong> and <strong>Client Secret</strong> obtained from the <a class="link-light" href="https://developer.spotify.com/dashboard" target="_blank">Spotify Developer Dashboard</a>.</p>
            <div class="mb-3">
                <label for="clientId" class="form-label">Client ID</label>
                <input type="text" class="form-control" id="clientId">
            </div>
            <div class="mb-3">
                <label for="clientSecret" class="form-label">Client Secret</label>
                <input type="password" class="form-control" id="clientSecret">
            </div>
            <button class="btn btn-success" onclick="requestAuthorization()">Request Authorization</button>
        </div>

        <div id="deviceSection" style="display:none;">
            <h2 class="text-white">Playback Control</h2>
            <div class="row">
                <div class="col-md-6">
                    <label for="devices" class="form-label">Devices</label>
                    <select id="devices" class="form-select mb-2"></select>
                    <div class="btn-group mb-3">
                        <button class="btn btn-outline-light" onclick="refreshDevices()">Refresh Devices</button>
                        <button class="btn btn-outline-info" onclick="transfer()">Transfer</button>
                    </div>
<br>
                    <label for="playlists" class="form-label">Playlists</label>
                    <select id="playlists" class="form-select mb-2"></select>
                    <button class="btn btn-outline-light mb-3" onclick="refreshPlaylists()">Refresh Playlists</button>
<br>
                    <label for="tracks" class="form-label">Tracks</label>
                    <select id="tracks" class="form-select mb-2"></select>
                    <button class="btn btn-outline-light mb-3" onclick="fetchTracks()">Fetch Tracks</button>
<br>
                    <label for="album" class="form-label">Album URI</label>
                    <input id="album" class="form-control mb-3" placeholder="spotify:album:xxx">

                    <div class="btn-group mt-3 mb-4">
                        <button class="btn btn-primary" onclick="previous()">Prev</button>
                        <button class="btn btn-success" onclick="play()">Play</button>
                        <button class="btn btn-warning" onclick="toggleShuffle()">Shuffle</button>
                        <button class="btn btn-danger" onclick="pause()">Pause</button>
                        <button class="btn btn-primary" onclick="next()">Next</button>
                    </div>
                </div>

                <div class="col-md-6">
                    <h4 class="text-white">Currently Playing</h4>
                    <button class="btn btn-outline-light btn-sm mb-2" onclick="currentlyPlaying()">Refresh</button>
                    <div class="mt-3">
                        <img id="albumImage" class="img-fluid rounded mb-3" style="max-width: 200px;">
                        <div class="fs-4 fw-bold text-white" id="trackTitle">-</div>
                        <div class="fs-5 text-light" id="trackArtist">-</div>
                    </div>

                    <h5 class="text-white mt-4">Quick Access</h5>
                    <div id="radioButtons" class="d-flex flex-wrap gap-2 mb-3"></div>
                    <div class="input-group">
                        <input type="text" id="buttonLabel" class="form-control" placeholder="Button label">
                        <button class="btn btn-info" onclick="saveNewRadioButton()">Save Button</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-end mb-3">
            <button class="btn btn-outline-danger" onclick="logout()">Logout</button>
        </div>

    </div>
</body>

</html>